{
  "test_suite_start": "2025-11-06T21:24:38.731506",
  "api_url": "http://localhost:8000",
  "tests": {
    "query_latency": {
      "status": "failed",
      "error": "Test timeout after 10 minutes"
    },
    "cache_effectiveness": {
      "test_start": "2025-11-06T21:34:38.972726",
      "cache_tests": {
        "individual_tests": {
          "query_2": {
            "query": "Thời hạn nộp hồ sơ dự thầu theo quy định",
            "cold_run": {
              "time_ms": 17523,
              "server_time_ms": 13176
            },
            "warm_runs": {
              "count": 1,
              "times_ms": [
                14089
              ],
              "avg_time_ms": 14089,
              "min_time_ms": 14089,
              "max_time_ms": 14089,
              "std_time_ms": 0
            },
            "cache_analysis": {
              "speedup_factor": 1.2437362481368444,
              "improvement_percent": 19.597100953033156,
              "cache_effective": true
            }
          }
        },
        "pattern_tests": {
          "group_3": {
            "queries": [
              "Điều kiện tham gia đấu thầu của nhà thầu",
              "Điều kiện tham gia đấu thầu"
            ],
            "results": [
              {
                "query": "Điều kiện tham gia đấu thầu của nhà thầu",
                "cold_run": {
                  "time_ms": 18449,
                  "server_time_ms": 14788
                },
                "warm_runs": {
                  "count": 1,
                  "times_ms": [
                    17591
                  ],
                  "avg_time_ms": 17591,
                  "min_time_ms": 17591,
                  "max_time_ms": 17591,
                  "std_time_ms": 0
                },
                "cache_analysis": {
                  "speedup_factor": 1.0487749417315673,
                  "improvement_percent": 4.65065857228034,
                  "cache_effective": false
                }
              }
            ],
            "analysis": {
              "avg_speedup": 1.0487749417315673,
              "avg_improvement_pct": 4.65065857228034,
              "cache_effective_count": 0,
              "total_queries": 1
            }
          }
        },
        "concurrent_test": {
          "error": "No successful queries in concurrent test"
        }
      },
      "summary": {
        "total_tests": 1,
        "cache_effectiveness": {
          "avg_speedup": 1.2437362481368444,
          "avg_improvement_pct": 19.597100953033156,
          "effective_rate": 1.0,
          "best_speedup": 1.2437362481368444,
          "worst_speedup": 1.2437362481368444
        },
        "performance_metrics": {},
        "recommendations": [
          "Cache effectiveness below optimal. Consider tuning cache TTL or size.",
          "Low throughput detected. Consider optimizing database connections."
        ]
      }
    },
    "multi_user_load": {
      "test_start": "2025-11-06T21:36:29.378775",
      "test_config": {},
      "load_tests": {},
      "summary": {},
      "escalating_test": {
        "users_5": {
          "test_config": {
            "num_users": 5,
            "queries_per_user": 3,
            "user_distribution": {
              "legal_researcher": 0.3,
              "bidding_consultant": 0.25,
              "government_officer": 0.2,
              "contractor": 0.15,
              "quick_lookup": 0.1
            },
            "delay_range": [
              0.5,
              1.5
            ]
          },
          "overall_metrics": {
            "total_time_s": 10.910325050354004,
            "total_sessions": 5,
            "successful_sessions": 5,
            "failed_sessions": 0,
            "session_success_rate": 1.0,
            "total_queries": 15,
            "successful_queries": 4,
            "failed_queries": 11,
            "query_success_rate": 0.26666666666666666,
            "queries_per_second": 0.3666251904997288,
            "concurrent_users": 5
          },
          "response_time_metrics": {
            "avg_ms": 3868.25,
            "median_ms": 3676.5,
            "min_ms": 2483,
            "max_ms": 5637,
            "std_ms": 1624.0704777400106,
            "percentile_95_ms": 5637,
            "percentile_99_ms": 5637
          },
          "session_metrics": {
            "avg_session_success_rate": 0.26666666666666666,
            "avg_session_response_time_ms": 4328
          },
          "user_type_breakdown": {
            "quick_lookup": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 2,
              "response_times": [
                2495,
                2483
              ],
              "avg_response_time_ms": 2489,
              "success_rate": 0.6666666666666666
            },
            "government_officer": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 0,
              "response_times": []
            },
            "bidding_consultant": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 1,
              "response_times": [
                4858
              ],
              "avg_response_time_ms": 4858,
              "success_rate": 0.3333333333333333
            },
            "legal_researcher": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 0,
              "response_times": []
            },
            "contractor": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 1,
              "response_times": [
                5637
              ],
              "avg_response_time_ms": 5637,
              "success_rate": 0.3333333333333333
            }
          },
          "performance_indicators": {
            "system_stable": true,
            "acceptable_response_time": true,
            "high_throughput": false,
            "low_error_rate": false
          }
        },
        "users_10": {
          "test_config": {
            "num_users": 10,
            "queries_per_user": 3,
            "user_distribution": {
              "legal_researcher": 0.3,
              "bidding_consultant": 0.25,
              "government_officer": 0.2,
              "contractor": 0.15,
              "quick_lookup": 0.1
            },
            "delay_range": [
              0.5,
              1.5
            ]
          },
          "overall_metrics": {
            "total_time_s": 32.07862734794617,
            "total_sessions": 10,
            "successful_sessions": 10,
            "failed_sessions": 0,
            "session_success_rate": 1.0,
            "total_queries": 30,
            "successful_queries": 11,
            "failed_queries": 19,
            "query_success_rate": 0.36666666666666664,
            "queries_per_second": 0.342907440542473,
            "concurrent_users": 10
          },
          "response_time_metrics": {
            "avg_ms": 9620.181818181818,
            "median_ms": 10029,
            "min_ms": 4933,
            "max_ms": 14866,
            "std_ms": 3060.8487979049805,
            "percentile_95_ms": 14866,
            "percentile_99_ms": 14866
          },
          "session_metrics": {
            "avg_session_success_rate": 0.36666666666666664,
            "avg_session_response_time_ms": 9586.9375
          },
          "user_type_breakdown": {
            "government_officer": {
              "sessions": 2,
              "total_queries": 6,
              "successful_queries": 1,
              "response_times": [
                9878
              ],
              "avg_response_time_ms": 9878,
              "success_rate": 0.16666666666666666
            },
            "legal_researcher": {
              "sessions": 3,
              "total_queries": 9,
              "successful_queries": 5,
              "response_times": [
                10029,
                10400,
                10087,
                5040,
                12985
              ],
              "avg_response_time_ms": 9708.2,
              "success_rate": 0.5555555555555556
            },
            "bidding_consultant": {
              "sessions": 2,
              "total_queries": 6,
              "successful_queries": 3,
              "response_times": [
                14866,
                4933,
                11703
              ],
              "avg_response_time_ms": 10500.666666666666,
              "success_rate": 0.5
            },
            "quick_lookup": {
              "sessions": 1,
              "total_queries": 3,
              "successful_queries": 0,
              "response_times": []
            },
            "contractor": {
              "sessions": 2,
              "total_queries": 6,
              "successful_queries": 2,
              "response_times": [
                7270,
                8631
              ],
              "avg_response_time_ms": 7950.5,
              "success_rate": 0.3333333333333333
            }
          },
          "performance_indicators": {
            "system_stable": true,
            "acceptable_response_time": false,
            "high_throughput": false,
            "low_error_rate": false
          }
        }
      },
      "breaking_point_analysis": {
        "max_stable_concurrent_users": 5,
        "breaking_point_users": 10,
        "performance_degradation": [
          {
            "num_users": 5,
            "query_success_rate": 0.26666666666666666,
            "avg_response_time_ms": 3868.25,
            "queries_per_second": 0.3666251904997288,
            "system_stable": true
          },
          {
            "num_users": 10,
            "query_success_rate": 0.36666666666666664,
            "avg_response_time_ms": 9620.181818181818,
            "queries_per_second": 0.342907440542473,
            "system_stable": true
          }
        ],
        "recommendations": [
          "High error rate detected. Check database connection limits and error handling.",
          "High response times. Consider implementing connection pooling and query optimization.",
          "Low throughput. Database connection pooling recommended.",
          "Response time increased 2.5x under load. Scaling improvements needed."
        ]
      }
    }
  },
  "summary": {
    "overall_status": "critical_issues_found",
    "key_metrics": {
      "avg_cache_speedup": 1.2437362481368444,
      "cache_hit_effectiveness": 1.0,
      "max_stable_qps": 0.342907440542473,
      "max_stable_response_time": 9620.181818181818
    },
    "performance_indicators": {
      "cache_working": true
    },
    "system_capacity": {
      "max_concurrent_users": 5,
      "breaking_point": 10
    },
    "bottlenecks_identified": [
      "Low concurrent user capacity - Connection pooling needed"
    ],
    "priority_recommendations": [
      "CRITICAL: Implement database connection pooling (see CONNECTION_POOLING_STRATEGY.md)"
    ]
  },
  "recommendations": [],
  "total_test_time_s": 755.6579203605652,
  "test_suite_end": "2025-11-06T21:37:14.428195"
}